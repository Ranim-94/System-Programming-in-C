

#include <stdio.h>
#include <fcntl.h>

#include <errno.h> // for linux processes

#define DEMO_CHOICE 1 // choose what demo to run

int main(){

	printf("\n Welcome to system programming in C! \n");

	printf("\t -> Topic: Files systems \n ");


	int demo_list_choice[] = {0, // open() demo
			1}; // read() demo

	int demo_to_run = demo_list_choice[DEMO_CHOICE];

	swtich(demo_to_run){

		case 0:

		run_open_demo(); // demo 0
		break;

		case 1:
		run_read_demo(); // demo 1
		break;



	} // end switch case


	int file_des;

	file_des = open("dummy_file",O_RDONLY);
	// open() takes flags
	// in this example: we took a read only flag
	// which means that the file exist


	/*
	 *
	 *
	 * To use multiple flags
	 *
	 * we can:
	 *
	 * file_des = open("dummy_file",O_RDONLY|O_CREAT);
	 *
	 * if file doesn't exist, it will creat
	 *
	 *
	 *
	 * */

	if (file_des == -1){
		// In this block, this means that something wrong

		printf(" error in open() - errno = %d \n",errno);

		perror("Error: \n");
		// the errno variable will be printed here in this statment



	}else {
		// successfull open the file in read only mode
		printf("open() is done successfully \n");
		printf("associated filde desc = %d",file_des);

	} // End if-else selection








} // End main()
